Один из менеджеров отдела продаж выяснил у клиента, что прежде чем позвонить, он долго изучал главную страницу и каталог сервиса. Не мог определиться с выбором и постоянно переходил то на одну страницу, то на другую. Клиенту нужна была помощь, и если бы она подоспела вовремя, он бы ещё год назад начал пользоваться услугами сервиса. К сожалению, он не смог самостоятельно найти телефон, так как плохо разбирался в устройстве веб-приложений.

Руководство кафе обеспокоилось возможностью пользователей быстро, качественно и в полном объёме получать информацию об услугах приложения. Оно поручило техническому отделу задачу. Нужно создать счётчик, который фиксирует, сколько раз пользователь перешёл от одной страницы к другой, используя меню навигации в шапке сайта. При этом, если этот переход произошёл больше трёх раз — показывать ему сообщение с номером менеджера.

----------------------------------

Почему для решения задачи разработчики выбрали паттерн «Одиночка»? Всё просто! Счётчик должен хранить состояние, которое содержит количество посещений пользователем каждой страницы. Счётчик должен быть только в одном экземпляре. Ведь если каждый раз создавать его заново, то и количество посещений каждый раз будет начинаться с единицы.

Паттерн решили писать на чистом JS, чтобы позже перенести механизм и в другие сервисы. В компании, кроме сделанного на React «Котокафе», есть три похожих проекта, но на других технологических платформах.

----------------------------------

«Одиночка» позволяет сохранять в коде только один экземпляр класса. За счёт этого атрибуты внутри сохраняют своё значение при инициализации на других страницах приложения. Благодаря этому мы и создали счётчик.

«Одиночка» — лучший способ управления общими данными без использования Redux. С его помощью можно значительно упростить разработку. В больших командах разработчики не всегда имеют возможность редактировать глобальное хранилище, либо это занимает очень много времени.
